From 2e92633dbae52f5ac9b7b2e068935990d475d2cd Mon Sep 17 00:00:00 2001
From: Kay Sievers <kay@vrfy.org>
Date: Sat, 30 Aug 2014 11:36:32 +0200
Subject: [PATCH] udev: bump event timeout to 60 seconds

---
 src/udev/udevadm-test.c | 2 +-
 src/udev/udevd.c        | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/udev/udevadm-test.c b/src/udev/udevadm-test.c
index 8486049814..809adb6d9a 100644
--- a/src/udev/udevadm-test.c
+++ b/src/udev/udevadm-test.c
@@ -136,7 +136,7 @@ static int adm_test(struct udev *udev, int argc, char *argv[]) {
                 goto out;
         }
 
-        udev_event_execute_rules(event, 30 * USEC_PER_SEC, rules, &sigmask_orig);
+        udev_event_execute_rules(event, 60 * USEC_PER_SEC, rules, &sigmask_orig);
 
         udev_list_entry_foreach(entry, udev_device_get_properties_list_entry(dev))
                 printf("%s=%s\n", udev_list_entry_get_name(entry), udev_list_entry_get_value(entry));
diff --git a/src/udev/udevd.c b/src/udev/udevd.c
index 9c2b0d5223..e72c5b231e 100644
--- a/src/udev/udevd.c
+++ b/src/udev/udevd.c
@@ -73,7 +73,7 @@ static bool reload;
 static int children;
 static int children_max;
 static int exec_delay;
-static usec_t event_timeout_usec = 30 * USEC_PER_SEC;
+static usec_t event_timeout_usec = 60 * USEC_PER_SEC;
 static sigset_t sigmask_orig;
 static UDEV_LIST(event_list);
 static UDEV_LIST(worker_list);
